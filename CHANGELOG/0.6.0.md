- add `prepro` and `gprepro`
- fix signature & behavior of `transPrepro` and `transPostpro`
